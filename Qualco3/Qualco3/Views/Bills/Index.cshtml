@model Db.Models.BillSelectionViewModel

@{
    ViewBag.Title = "Οι Λογαριασμοί μου";
}

@using (Html.BeginForm("SubmitSelected", "Bills", FormMethod.Post, new { encType = "multipart/form-data", name = "myform" }))
{
        <div class="col-xs-12 center">
        <div class="notice">
            <div class="box-body no-padding">
                <table class="table table-condensed">
                    <tr>
                        <th>
                            Είδος
                        </th>
                        <th>
                            Ημερομηνία Λήξης
                        </th>
                        <th>
                            Ποσό
                        </th>
                    </tr>
                    <tbody>
                        @Html.EditorFor(model => model.Bills)
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="panel notice-warning">
        <table class="table table-hover" id="dev-table">
            <tbody>
                <tr>
                    <th>
                        Συνολικό ποσό προς διακανονισμό
                    </th>

                    <th>
                        @Html.ValueFor(model => model.TotalAmount, "{0:C}")
                    </th>
                </tr>
            </tbody>
        </table>
    </div>


    <div class="col-xs-4">
        <br />
        <button type="submit" class="btn btn-warning"><i class="fa fa-bank"></i>   Αίτηση Διακανονισμού</button>
    </div>
    
        }



        <script type="text/javascript">

            var countChecked = function () {
                var n = $("input:checked").length;
                // alert((n + (n === 1 ? " is" : " are") + " checked!"));
                return n;
            };
            //countChecked();

            $('#myForm').submit(function () {

                if (countChecked() == 0) {
                    alert('Πρέπει να επιλέξετε έστω εναν λογαριασμό για να προχωρήσετε σε διακανονισμό');
                    return false;
                }

            });

        </script>
